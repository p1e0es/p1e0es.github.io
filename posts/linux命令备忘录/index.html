<!DOCTYPE html>
<html lang="en-us">
<head>
<link as="font" crossorigin="anonymous" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" rel="preload" type="font/woff2"/>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<title> Linux命令备忘录 | 碎片</title>
<link href="https://p1e0es.github.io/posts/linux%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/" rel="canonical"/>
<meta content="有志者，事竟成！" name="description"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="all,follow" name="robots"/>
<meta content="index,follow,snippet,archive" name="googlebot"/>
<meta content="https://p1e0es.github.io/posts/linux%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/" property="og:url"/>
<meta content="碎片" property="og:site_name"/>
<meta content="Linux命令备忘录" property="og:title"/>
<meta content="大小写转换 # 大写转小写 cat file.txt | tr A-Z a-z &gt; newfile.txt # 小写转大写 cat file.txt | tr a-z A-Z &gt; newfile.txt 文本去重 # 统计重复次数 cat file.txt | sort | uniq -c # uniq 参数： uniq -c: 统计次数 uniq -i: 不区分大小写 获取最新文件的文件名 ls -lthr /data/bwfish/ | tail -n 1 | awk '{print $9}' 命令后台执行 # 挂载命令后台执行,关闭当前shell任务停止 command &amp; # 挂载命令后台执行,关闭当前shell任务依然运行，会将信息输出到nohup.out nohup command &amp; # 将信息输出到指定文件中 nohup command &gt;&gt; main.log 2&gt;&amp;1 &amp; # 等效写法:nohup command &amp;&gt; main." property="og:description"/>
<meta content="en_us" property="og:locale"/>
<meta content="article" property="og:type"/>
<meta content="posts" property="article:section"/>
<meta content="2024-06-13T18:07:16+08:00" property="article:published_time"/>
<meta content="2024-06-13T18:07:16+08:00" property="article:modified_time"/>
<meta content="summary" name="twitter:card"/>
<meta content="Linux命令备忘录" name="twitter:title"/>
<meta content="大小写转换 # 大写转小写 cat file.txt | tr A-Z a-z &gt; newfile.txt # 小写转大写 cat file.txt | tr a-z A-Z &gt; newfile.txt 文本去重 # 统计重复次数 cat file.txt | sort | uniq -c # uniq 参数： uniq -c: 统计次数 uniq -i: 不区分大小写 获取最新文件的文件名 ls -lthr /data/bwfish/ | tail -n 1 | awk '{print $9}' 命令后台执行 # 挂载命令后台执行,关闭当前shell任务停止 command &amp; # 挂载命令后台执行,关闭当前shell任务依然运行，会将信息输出到nohup.out nohup command &amp; # 将信息输出到指定文件中 nohup command &gt;&gt; main.log 2&gt;&amp;1 &amp; # 等效写法:nohup command &amp;&gt; main." name="twitter:description"/>
<link href="https://p1e0es.github.io/css/styles.9fcaa9a3b333a3c9c13ef961e246ef6a81f29a0976c5e50a8e0605cad6d712a5e580933b4ea628d450c8dc35be0f34c8d369cc6a42b6c816ddfcb2270290d0bc.css" integrity="sha512-n8qpo7Mzo8nBPvlh4kbvaoHymgl2xeUKjgYFytbXEqXlgJM7TqYo1FDI3DW+DzTI02nMakK2yBbd/LInApDQvA==" rel="stylesheet"/>
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<link href="https://p1e0es.github.io/images/leaf-favicon.ico" rel="icon" type="image/png"/>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<div id="header-post">
<a href="#" id="menu-icon"><i class="fas fa-bars fa-lg"></i></a>
<a href="#" id="menu-icon-tablet"><i class="fas fa-bars fa-lg"></i></a>
<a aria-label="Top of Page" href="#" id="top-icon-tablet" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id="menu">
<span id="nav">
<ul>
<li><a href="/">Home</a></li>
<li><a href="/posts">Posts</a></li>
<li><a href="/categories">Categories</a></li>
<li><a href="/about">About</a></li>
<li><a href="/index.xml">Rss</a></li>
</ul>
</span>
<br/>
<span id="actions">
<ul>
<li>
<a aria-label="Previous" class="icon" href=" https://p1e0es.github.io/posts/%E7%A2%8E%E7%89%87%E5%8C%96%E6%84%9F%E6%82%9F/">
<i aria-hidden="true" class="fas fa-chevron-left" onmouseout="$('#i-prev').toggle();" onmouseover="$('#i-prev').toggle();"></i>
</a>
</li>
<li>
<a aria-label="Next" class="icon" href="https://p1e0es.github.io/posts/python%E6%9D%82%E8%AE%B0/">
<i aria-hidden="true" class="fas fa-chevron-right" onmouseout="$('#i-next').toggle();" onmouseover="$('#i-next').toggle();"></i>
</a>
</li>
<li>
<a aria-label="Top of Page" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
<i aria-hidden="true" class="fas fa-chevron-up" onmouseout="$('#i-top').toggle();" onmouseover="$('#i-top').toggle();"></i>
</a>
</li>
<li>
<a aria-label="Share" class="icon" href="#">
<i aria-hidden="true" class="fas fa-share-alt" onclick="$('#share').toggle();return false;" onmouseout="$('#i-share').toggle();" onmouseover="$('#i-share').toggle();"></i>
</a>
</li>
</ul>
<span class="info" id="i-prev" style="display:none;">Previous post</span>
<span class="info" id="i-next" style="display:none;">Next post</span>
<span class="info" id="i-top" style="display:none;">Back to top</span>
<span class="info" id="i-share" style="display:none;">Share post</span>
</span>
<br/>
<div id="share" style="display: none">
<ul>
<li>
<a aria-label="Facebook" class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f">
<i aria-hidden="true" class="fab fa-facebook"></i>
</a>
</li>
<li>
<a aria-label="Twitter" class="icon" href="https://twitter.com/share?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;text=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-twitter"></i>
</a>
</li>
<li>
<a aria-label="Linkedin" class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-linkedin"></i>
</a>
</li>
<li>
<a aria-label="Pinterest" class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;is_video=false&amp;description=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-pinterest"></i>
</a>
</li>
<li>
<a aria-label="Email" class="icon" href="mailto:?subject=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95&amp;body=Check out this article: https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f">
<i aria-hidden="true" class="fas fa-envelope"></i>
</a>
</li>
<li>
<a aria-label="Pocket" class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-get-pocket"></i>
</a>
</li>
<li>
<a aria-label="reddit" class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-reddit"></i>
</a>
</li>
<li>
<a aria-label="Tumblr" class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;name=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95&amp;description=%e5%a4%a7%e5%b0%8f%e5%86%99%e8%bd%ac%e6%8d%a2%20%23%20%e5%a4%a7%e5%86%99%e8%bd%ac%e5%b0%8f%e5%86%99%20cat%20file.txt%20%7c%20tr%20A-Z%20a-z%20%26gt%3b%20newfile.txt%20%23%20%e5%b0%8f%e5%86%99%e8%bd%ac%e5%a4%a7%e5%86%99%20cat%20file.txt%20%7c%20tr%20a-z%20A-Z%20%26gt%3b%20newfile.txt%20%e6%96%87%e6%9c%ac%e5%8e%bb%e9%87%8d%20%23%20%e7%bb%9f%e8%ae%a1%e9%87%8d%e5%a4%8d%e6%ac%a1%e6%95%b0%20cat%20file.txt%20%7c%20sort%20%7c%20uniq%20-c%20%23%20uniq%20%e5%8f%82%e6%95%b0%ef%bc%9a%20uniq%20-c%3a%20%e7%bb%9f%e8%ae%a1%e6%ac%a1%e6%95%b0%20uniq%20-i%3a%20%e4%b8%8d%e5%8c%ba%e5%88%86%e5%a4%a7%e5%b0%8f%e5%86%99%20%e8%8e%b7%e5%8f%96%e6%9c%80%e6%96%b0%e6%96%87%e4%bb%b6%e7%9a%84%e6%96%87%e4%bb%b6%e5%90%8d%20ls%20-lthr%20%2fdata%2fbwfish%2f%20%7c%20tail%20-n%201%20%7c%20awk%20%26%2339%3b%7bprint%20%249%7d%26%2339%3b%20%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%20%23%20%e6%8c%82%e8%bd%bd%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%2c%e5%85%b3%e9%97%ad%e5%bd%93%e5%89%8dshell%e4%bb%bb%e5%8a%a1%e5%81%9c%e6%ad%a2%20command%20%26amp%3b%20%23%20%e6%8c%82%e8%bd%bd%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%2c%e5%85%b3%e9%97%ad%e5%bd%93%e5%89%8dshell%e4%bb%bb%e5%8a%a1%e4%be%9d%e7%84%b6%e8%bf%90%e8%a1%8c%ef%bc%8c%e4%bc%9a%e5%b0%86%e4%bf%a1%e6%81%af%e8%be%93%e5%87%ba%e5%88%b0nohup.out%20nohup%20command%20%26amp%3b%20%23%20%e5%b0%86%e4%bf%a1%e6%81%af%e8%be%93%e5%87%ba%e5%88%b0%e6%8c%87%e5%ae%9a%e6%96%87%e4%bb%b6%e4%b8%ad%20nohup%20command%20%26gt%3b%26gt%3b%20main.log%202%26gt%3b%26amp%3b1%20%26amp%3b%20%23%20%e7%ad%89%e6%95%88%e5%86%99%e6%b3%95%3anohup%20command%20%26amp%3b%26gt%3b%20main.">
<i aria-hidden="true" class="fab fa-tumblr"></i>
</a>
</li>
<li>
<a aria-label="Hacker News" class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;t=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-hacker-news"></i>
</a>
</li>
</ul>
</div>
<div id="toc">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#大小写转换">大小写转换</a></li>
<li><a href="#文本去重">文本去重</a></li>
<li><a href="#获取最新文件的文件名">获取最新文件的文件名</a></li>
<li><a href="#命令后台执行">命令后台执行</a></li>
<li><a href="#screen创建新窗口">screen创建新窗口</a></li>
<li><a href="#ln创建软链接">ln创建软链接</a></li>
<li><a href="#nmcli管理wifi">nmcli管理wifi</a></li>
<li><a href="#tshark抓包">tshark抓包</a></li>
<li><a href="#tcpdump抓包">tcpdump抓包</a></li>
<li><a href="#u盘格式化">u盘格式化</a></li>
<li><a href="#curl">curl</a></li>
<li><a href="#tar">tar</a></li>
<li><a href="#iptables">iptables</a></li>
<li><a href="#pacman">pacman</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</span>
</div>
<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
<header>
<h1 class="posttitle" itemprop="name headline">
        Linux命令备忘录
      </h1>
<div class="meta">
<div class="postdate">
<time datetime="2024-06-13 18:07:16 +0800 CST" itemprop="datePublished">2024-06-13</time>
</div>
</div>
</header>
<div class="content" itemprop="articleBody">
<h3 id="大小写转换">大小写转换</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 大写转小写</span>
</span></span><span style="display:flex;"><span>cat file.txt | tr A-Z a-z &gt; newfile.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 小写转大写</span>
</span></span><span style="display:flex;"><span>cat file.txt | tr a-z A-Z &gt; newfile.txt
</span></span></code></pre></div><h3 id="文本去重">文本去重</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 统计重复次数</span>
</span></span><span style="display:flex;"><span>cat file.txt | sort | uniq -c
</span></span><span style="display:flex;"><span><span style="color:#75715e"># uniq 参数：</span>
</span></span><span style="display:flex;"><span>uniq -c: 统计次数
</span></span><span style="display:flex;"><span>uniq -i: 不区分大小写
</span></span></code></pre></div><h3 id="获取最新文件的文件名">获取最新文件的文件名</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ls -lthr /data/bwfish/ | tail -n <span style="color:#ae81ff">1</span> | awk <span style="color:#e6db74">'{print $9}'</span>
</span></span></code></pre></div><h3 id="命令后台执行">命令后台执行</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 挂载命令后台执行,关闭当前shell任务停止</span>
</span></span><span style="display:flex;"><span>command &amp;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 挂载命令后台执行,关闭当前shell任务依然运行，会将信息输出到nohup.out</span>
</span></span><span style="display:flex;"><span>nohup command &amp;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将信息输出到指定文件中</span>
</span></span><span style="display:flex;"><span>nohup command &gt;&gt; main.log 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp; <span style="color:#75715e"># 等效写法:nohup command &amp;&gt; main.log &amp;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不记录输出信息</span>
</span></span><span style="display:flex;"><span>nohup python main.py &amp;&gt; /dev/null &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看后台执行的命令</span>
</span></span><span style="display:flex;"><span>jobs -l
</span></span></code></pre></div><h3 id="screen创建新窗口">screen创建新窗口</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 状态：</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Attached：表示当前screen正在作为主终端使用，为活跃状态</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Detached：表示当前screen正在后台使用，为非激发状态。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看已经存在的screen终端</span>
</span></span><span style="display:flex;"><span>screen -ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 直接输入screen回车，即可新建一个虚拟终端，但是这样的名称太乱(以Linux的hostname命名）</span>
</span></span><span style="display:flex;"><span>screen
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建一个叫Hello的虚拟终端</span>
</span></span><span style="display:flex;"><span>screen -S Hello
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用-R创建Hello</span>
</span></span><span style="display:flex;"><span>screen -R Hello
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 三种创建方法比较：</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用-R创建，如果之前有创建唯一一个同名的screen，则直接进入之前创建的screen</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用-S创建和直接输入screen创建的虚拟终端，不会检录之前创建的screen（也就是会创建同名的screen)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将当前screen终端放在后台运行</span>
</span></span><span style="display:flex;"><span>先按ctrl+a，再按d
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结束当前screen终端会话</span>
</span></span><span style="display:flex;"><span>先按ctrl+a，再按k。或者在当前screen终端输入exit
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在主终端内，使用命令释放</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用-R/-r/-S均可</span>
</span></span><span style="display:flex;"><span>screen -R <span style="color:#f92672">[</span>pid/Name<span style="color:#f92672">]</span> -X quit
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在虚拟终端内，输入Ctril+a将等待接受预先设置的绑定键，这个时候可以输入对应的一些命令，来操作虚拟终端，如：</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># d：保存会话，后台运行改虚拟终端</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># k：关闭对话，等同输入：exit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># c：新建一个虚拟终端</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ?：显示所有绑定键盘</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 重新回到终端</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用-R或者-r命令即可</span>
</span></span><span style="display:flex;"><span>screen -r <span style="color:#f92672">[</span>pid/name<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="ln创建软链接">ln创建软链接</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 为/usr/lib目录创建一个lib64的软链接</span>
</span></span><span style="display:flex;"><span>sudo ln -s /usr/lib /lib64
</span></span></code></pre></div><h3 id="nmcli管理wifi">nmcli管理wifi</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 扫描可用wifi</span>
</span></span><span style="display:flex;"><span>sudo nmcli dev wifi
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 连接指定wifi</span>
</span></span><span style="display:flex;"><span>sudo nmcli dev wifi connect <span style="color:#e6db74">"MERCURY_5G_71F8"</span> password <span style="color:#e6db74">"test5.0g"</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看配置过的wifi信息</span>
</span></span><span style="display:flex;"><span>sudo nmcli con
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除连接过的wifi</span>
</span></span><span style="display:flex;"><span>sudo nmcli con del MERCURY_71F8
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 切换到连接过的其他wifi</span>
</span></span><span style="display:flex;"><span>sudo nmcli con up uuid 05fd480b-d5ed-4598-afed-000db85ec45f
</span></span><span style="display:flex;"><span>sudo nmcli con up MERCURY_5G_71F8
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 指定设备名称来断开连接</span>
</span></span><span style="display:flex;"><span>sudo nmcli device disconnect wlp2s0
</span></span></code></pre></div><h3 id="tshark抓包">tshark抓包</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 显示所有可用设备</span>
</span></span><span style="display:flex;"><span>sudo tshark -D
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 对指定设备进行抓包，并写入指定文件，在抓包过程中显示详细信息</span>
</span></span><span style="display:flex;"><span>sudo tshark -i wlx08ea40feabc0 -w test.pcap -V
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 解析pcap包，展示所有详细信息</span>
</span></span><span style="display:flex;"><span>sudo tshark -r test.pcap -V
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 以json格式展示pcap文件内容</span>
</span></span><span style="display:flex;"><span>sudo tshark -r test.pcap -T json -V
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 以txt格式保存pcap文件内容</span>
</span></span><span style="display:flex;"><span>sudo tshark -r test.pcap -T text -V &gt; test.txt
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置条件，过滤pcap包中的信息</span>
</span></span><span style="display:flex;"><span>sudo tshark -r test.pcap -T fields -e ip.src -e ip.dst | grep 192.168.1.103
</span></span></code></pre></div><h3 id="tcpdump抓包">tcpdump抓包</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo tcpdump -i wlan0 -s0 -w test.pcap
</span></span></code></pre></div><h3 id="u盘格式化">u盘格式化</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 列出磁盘</span>
</span></span><span style="display:flex;"><span>sudo fdisk -l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 手工挂载u盘，这里-t vfat 是指的fat的格式，/dev/sdb指的是U盘，/mnt/usb是挂载的地方</span>
</span></span><span style="display:flex;"><span>mount -t vfat /dev/sdb /mnt/usb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 卸载u盘</span>
</span></span><span style="display:flex;"><span>umount /mnt/usb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将u盘格式化为fat32格式</span>
</span></span><span style="display:flex;"><span>sudo mkfs.vfat -F <span style="color:#ae81ff">32</span> /dev/sdb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 格式化为ext4分区</span>
</span></span><span style="display:flex;"><span>sudo mkfs.ext4 /dev/sdb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 格式化为ext3分区</span>
</span></span><span style="display:flex;"><span>sudo mkfs.ext3 /dev/sdb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 格式化为ext2分区</span>
</span></span><span style="display:flex;"><span>sudo mkfs.ext2 /dev/sdb
</span></span></code></pre></div><h3 id="curl">curl</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 下载</span>
</span></span><span style="display:flex;"><span>curl -O http://xxx.com/yy.sh
</span></span></code></pre></div><h3 id="tar">tar</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># -v:解压时列出详细</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -f:指定文件</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -x:提取文件</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -t:列出所有文件</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -c:创建一个压缩文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 解压文件</span>
</span></span><span style="display:flex;"><span>tar -xvf xxx.tar.xz<span style="color:#f92672">(</span>or xxx.tar.gz or xxx.tar.bz2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看压缩包里的内容，不解压</span>
</span></span><span style="display:flex;"><span>tar -tvf xxx.tar.xz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 归档一个文件夹</span>
</span></span><span style="display:flex;"><span>tar -cf xxx.tar files/
</span></span></code></pre></div><h3 id="iptables">iptables</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># -t:指定表，filter(默认表)、nat、mangle、raw、security</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -j:指定符合规则时执行的动作，DNAT、ACCEPT、MASQUERADE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -A:添加一条规则到规则链</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -D:删除规则链上的一个规则</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -L:列出规则链中的规则</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -p:指定协议</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --dport:指定端口</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -d:指定目的ip</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -s:指定源ip</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -n:以数字形式显示ip地址</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --line-numbers:显示出行号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 端口转发，对80端口的请求转发到指定地址</span>
</span></span><span style="display:flex;"><span>iptables -t nat -A PREROUTING -p tcp --dport <span style="color:#ae81ff">80</span> -j DNAT --to-destination $ip:$port
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除一条规则</span>
</span></span><span style="display:flex;"><span>iptables -t nat -D PREROUTING -p udp --dport <span style="color:#ae81ff">53</span> -j DNAT --to-destination $ip:$port
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 列出nat表中PREROUTING规则链中的所有规则，ip地址以数字形式显示，显示出每条规则的行号</span>
</span></span><span style="display:flex;"><span>iptables -t nat -L PREROUTING -n --line-numbers
</span></span></code></pre></div><h3 id="pacman">pacman</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;" tabindex="0"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 升级系统及所有已经安装的软件</span>
</span></span><span style="display:flex;"><span>pacman -Syu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 安装软件。也可以同时安装多个包，只需以空格分隔包名即可</span>
</span></span><span style="display:flex;"><span>pacman -S 软件名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除软件，同时删除本机上只有该软件依赖的软件</span>
</span></span><span style="display:flex;"><span>pacman -Rs 软件名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除软件，同时删除不再被任何软件所需要的依赖</span>
</span></span><span style="display:flex;"><span>pacman -Ru 软件名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在仓库中搜索含关键字的软件包，并用简洁方式显示</span>
</span></span><span style="display:flex;"><span>pacman -Ssq 关键字
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 搜索已安装的软件包</span>
</span></span><span style="display:flex;"><span>pacman -Qs 关键字
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看某个软件包信息，显示软件简介,构架,依赖,大小等详细信息</span>
</span></span><span style="display:flex;"><span>pacman -Qi 软件名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 列出软件仓库上所有的软件包组</span>
</span></span><span style="display:flex;"><span>pacman -Sg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看某软件包组所包含的所有软件包</span>
</span></span><span style="display:flex;"><span>pacman -Sg 软件包组
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清理未安装的包文件，包文件位于 /var/cache/pacman/pkg/ 目录</span>
</span></span><span style="display:flex;"><span>pacman -Sc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清理所有的缓存文件</span>
</span></span><span style="display:flex;"><span>pacman -Scc
</span></span></code></pre></div>
</div>
</article>
<div id="footer-post-container">
<div id="footer-post">
<div id="nav-footer" style="display: none">
<ul>
<li><a href="/">Home</a></li>
<li><a href="/posts">Posts</a></li>
<li><a href="/categories">Categories</a></li>
<li><a href="/about">About</a></li>
<li><a href="/index.xml">Rss</a></li>
</ul>
</div>
<div id="toc-footer" style="display: none">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#大小写转换">大小写转换</a></li>
<li><a href="#文本去重">文本去重</a></li>
<li><a href="#获取最新文件的文件名">获取最新文件的文件名</a></li>
<li><a href="#命令后台执行">命令后台执行</a></li>
<li><a href="#screen创建新窗口">screen创建新窗口</a></li>
<li><a href="#ln创建软链接">ln创建软链接</a></li>
<li><a href="#nmcli管理wifi">nmcli管理wifi</a></li>
<li><a href="#tshark抓包">tshark抓包</a></li>
<li><a href="#tcpdump抓包">tcpdump抓包</a></li>
<li><a href="#u盘格式化">u盘格式化</a></li>
<li><a href="#curl">curl</a></li>
<li><a href="#tar">tar</a></li>
<li><a href="#iptables">iptables</a></li>
<li><a href="#pacman">pacman</a></li>
</ul>
</li>
</ul>
</nav>
</div>
<div id="share-footer" style="display: none">
<ul>
<li>
<a aria-label="Facebook" class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f">
<i aria-hidden="true" class="fab fa-facebook fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Twitter" class="icon" href="https://twitter.com/share?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;text=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-twitter fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Linkedin" class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-linkedin fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Pinterest" class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;is_video=false&amp;description=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-pinterest fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Email" class="icon" href="mailto:?subject=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95&amp;body=Check out this article: https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f">
<i aria-hidden="true" class="fas fa-envelope fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Pocket" class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-get-pocket fa-lg"></i>
</a>
</li>
<li>
<a aria-label="reddit" class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;title=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-reddit fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Tumblr" class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;name=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95&amp;description=%e5%a4%a7%e5%b0%8f%e5%86%99%e8%bd%ac%e6%8d%a2%20%23%20%e5%a4%a7%e5%86%99%e8%bd%ac%e5%b0%8f%e5%86%99%20cat%20file.txt%20%7c%20tr%20A-Z%20a-z%20%26gt%3b%20newfile.txt%20%23%20%e5%b0%8f%e5%86%99%e8%bd%ac%e5%a4%a7%e5%86%99%20cat%20file.txt%20%7c%20tr%20a-z%20A-Z%20%26gt%3b%20newfile.txt%20%e6%96%87%e6%9c%ac%e5%8e%bb%e9%87%8d%20%23%20%e7%bb%9f%e8%ae%a1%e9%87%8d%e5%a4%8d%e6%ac%a1%e6%95%b0%20cat%20file.txt%20%7c%20sort%20%7c%20uniq%20-c%20%23%20uniq%20%e5%8f%82%e6%95%b0%ef%bc%9a%20uniq%20-c%3a%20%e7%bb%9f%e8%ae%a1%e6%ac%a1%e6%95%b0%20uniq%20-i%3a%20%e4%b8%8d%e5%8c%ba%e5%88%86%e5%a4%a7%e5%b0%8f%e5%86%99%20%e8%8e%b7%e5%8f%96%e6%9c%80%e6%96%b0%e6%96%87%e4%bb%b6%e7%9a%84%e6%96%87%e4%bb%b6%e5%90%8d%20ls%20-lthr%20%2fdata%2fbwfish%2f%20%7c%20tail%20-n%201%20%7c%20awk%20%26%2339%3b%7bprint%20%249%7d%26%2339%3b%20%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%20%23%20%e6%8c%82%e8%bd%bd%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%2c%e5%85%b3%e9%97%ad%e5%bd%93%e5%89%8dshell%e4%bb%bb%e5%8a%a1%e5%81%9c%e6%ad%a2%20command%20%26amp%3b%20%23%20%e6%8c%82%e8%bd%bd%e5%91%bd%e4%bb%a4%e5%90%8e%e5%8f%b0%e6%89%a7%e8%a1%8c%2c%e5%85%b3%e9%97%ad%e5%bd%93%e5%89%8dshell%e4%bb%bb%e5%8a%a1%e4%be%9d%e7%84%b6%e8%bf%90%e8%a1%8c%ef%bc%8c%e4%bc%9a%e5%b0%86%e4%bf%a1%e6%81%af%e8%be%93%e5%87%ba%e5%88%b0nohup.out%20nohup%20command%20%26amp%3b%20%23%20%e5%b0%86%e4%bf%a1%e6%81%af%e8%be%93%e5%87%ba%e5%88%b0%e6%8c%87%e5%ae%9a%e6%96%87%e4%bb%b6%e4%b8%ad%20nohup%20command%20%26gt%3b%26gt%3b%20main.log%202%26gt%3b%26amp%3b1%20%26amp%3b%20%23%20%e7%ad%89%e6%95%88%e5%86%99%e6%b3%95%3anohup%20command%20%26amp%3b%26gt%3b%20main.">
<i aria-hidden="true" class="fab fa-tumblr fa-lg"></i>
</a>
</li>
<li>
<a aria-label="Hacker News" class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fp1e0es.github.io%2fposts%2flinux%25E5%2591%25BD%25E4%25BB%25A4%25E5%25A4%2587%25E5%25BF%2598%25E5%25BD%2595%2f&amp;t=Linux%e5%91%bd%e4%bb%a4%e5%a4%87%e5%bf%98%e5%bd%95">
<i aria-hidden="true" class="fab fa-hacker-news fa-lg"></i>
</a>
</li>
</ul>
</div>
<div id="actions-footer">
<a aria-label="Menu" class="icon" href="#" id="menu-toggle" onclick="$('#nav-footer').toggle();return false;">
<i aria-hidden="true" class="fas fa-bars fa-lg"></i> Menu</a>
<a aria-label="TOC" class="icon" href="#" id="toc-toggle" onclick="$('#toc-footer').toggle();return false;">
<i aria-hidden="true" class="fas fa-list fa-lg"></i> TOC</a>
<a aria-label="Share" class="icon" href="#" id="share-toggle" onclick="$('#share-footer').toggle();return false;">
<i aria-hidden="true" class="fas fa-share-alt fa-lg"></i> share</a>
<a aria-label="Top of Page" class="icon" href="#" id="top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none">
<i aria-hidden="true" class="fas fa-chevron-up fa-lg"></i> Top</a>
</div>
</div>
</div>
<footer id="footer">
<div class="footer-left">
    Copyright  © 2024  p1e0es 
  </div>
<div class="footer-right">
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/posts">Posts</a></li>
<li><a href="/categories">Categories</a></li>
<li><a href="/about">About</a></li>
<li><a href="/index.xml">Rss</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link href="/lib/font-awesome/css/all.min.css" rel="stylesheet"/>
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/code-copy.js"></script>
</html>
